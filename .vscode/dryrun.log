make --dry-run --always-make --keep-going --print-directory
make: Entering directory '/home/ivan/projects/mapped/pulumi-astra'
 
if test -z "ivan-pc"; then echo "NAME not set"; exit 1; fi
if test -z ""; then echo "REPOSITORY not set"; exit 1; fi
if test ! -d "provider/cmd/pulumi-tfgen-x""yz"; then "Project already prepared"; exit 1; fi
mv "provider/cmd/pulumi-tfgen-x""yz" provider/cmd/pulumi-tfgen-ivan-pc
mv "provider/cmd/pulumi-resource-x""yz" provider/cmd/pulumi-resource-ivan-pc
if [[ "Linux" != "Darwin" ]]; then \
	sed -i 's,github.com/pulumi/pulumi-astra,,g' provider/go.mod; \
	find ./ ! -path './.git/*' -type f -exec sed -i 's/[x]yz/ivan-pc/g' {} \; &> /dev/null; \
fi
# In MacOS the -i parameter needs an empty string to execute in place.
if [[ "Linux" == "Darwin" ]]; then \
	sed -i '' 's,github.com/pulumi/pulumi-astra,,g' provider/go.mod; \
	find ./ ! -path './.git/*' -type f -exec sed -i '' 's/[x]yz/ivan-pc/g' {} \; &> /dev/null; \
fi
make: Leaving directory '/home/ivan/projects/mapped/pulumi-astra'
 
